<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpecimenPro Events - Latest Updates & News</title>
    <meta name="description" content="Stay updated with the latest SpecimenPro events, updates, and news. See what's happening in the SpecimenPro community.">
    <link rel="stylesheet" href="specimenpro-style.css">
    <style>
        .events-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .page-header {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .page-header h1 {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }
        
        .page-header p {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .events-list {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        .event-card {
            background: var(--white);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border-left: 5px solid var(--primary-color);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .event-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        }
        
        .event-type {
            display: inline-block;
            background: var(--secondary-color);
            color: var(--white);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .event-type.release { background: #28a745; }
        .event-type.update { background: #17a2b8; }
        .event-type.feature { background: #6f42c1; }
        .event-type.community { background: #fd7e14; }
        
        .event-title {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .event-date {
            color: var(--text-light);
            font-size: 0.9rem;
            margin-bottom: 15px;
        }
        
        .event-description {
            color: var(--text-dark);
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .event-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--secondary-color);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .event-link:hover {
            color: var(--primary-color);
        }
        
        .no-events {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-light);
        }
        
        .no-events h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--text-dark);
        }
        
        .github-link {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            background: var(--bg-light);
            border-radius: 12px;
        }
        
        .github-link a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .github-link a:hover {
            color: var(--secondary-color);
        }
        
        @media (max-width: 768px) {
            .events-container {
                padding: 20px 15px;
            }
            
            .page-header h1 {
                font-size: 2rem;
            }
            
            .event-card {
                padding: 20px;
            }
            
            .event-title {
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="container">
            <div class="logo">
                <img src="docs/SpecimenPro_S_Icon_light_1024x1024.png" alt="SpecimenPro Logo" style="width: 50px; height: 50px; border-radius: 12px;">
                <span>SpecimenPro</span>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="index.html#features">Features</a></li>
                <li><a href="index.html#screenshots">Screenshots</a></li>
                <li><a href="index.html#pricing">Pricing</a></li>
                <li><a href="faq.html">FAQ</a></li>
                <li><a href="index.html#help">Help</a></li>
                <li><a href="events.html" style="color: var(--secondary-color);">Events</a></li>
                <li><a href="docs/privacy_policy.html">Privacy</a></li>
            </ul>
        </nav>
    </header>

    <!-- Events Section -->
    <main class="events-container">
        <div class="page-header">
            <h1>SpecimenPro Events</h1>
            <p>Stay updated with the latest releases, features, and community news from SpecimenPro</p>
        </div>

        <div class="events-list" id="eventsList">
            <!-- Events will be loaded here -->
        </div>

        <div class="github-link">
            <a href="https://github.com/SpecimenPro/Events" target="_blank" rel="noopener">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
                View all events on GitHub
            </a>
        </div>
    </main>

    <!-- Footer -->
    <footer style="background: var(--text-dark); color: var(--white); padding: 40px 0; margin-top: 60px;">
        <div class="container">
            <div style="text-align: center;">
                <p>&copy; 2025 SpecimenPro. All rights reserved.</p>
                <p style="margin-top: 10px;">
                    <a href="docs/privacy_policy.html" style="color: var(--secondary-color); text-decoration: none;">Privacy Policy</a>
                </p>
            </div>
        </div>
    </footer>

    <script>
        // Configuration - Update this URL to your actual events.json file
        const EVENTS_JSON_URL = 'https://raw.githubusercontent.com/aaroncelestian/specimenpro-events/main/events.json';
        const LOCAL_EVENTS_URL = './events.json'; // Local fallback

        // Sample events data - fallback when JSON loading fails
        const sampleEvents = [
            {
                type: "release",
                title: "SpecimenPro 2.1 Released",
                date: "2025-01-15",
                description: "Major update with new AR measurement features, improved photo capture, and enhanced data export capabilities. This release includes bug fixes and performance improvements based on user feedback.",
                link: "https://github.com/SpecimenPro/SpecimenPro/releases/tag/v2.1.0"
            },
            {
                type: "feature",
                title: "New Template System Added",
                date: "2025-01-10",
                description: "Introducing customizable templates for different collection types. Create and share templates for paleontology, entomology, botany, and more. Import/export functionality included.",
                link: "https://github.com/SpecimenPro/SpecimenPro/issues/123"
            },
            {
                type: "update",
                title: "iOS 18 Compatibility Update",
                date: "2025-01-05",
                description: "Full compatibility with iOS 18 and latest iPhone models. Enhanced performance on newer devices and improved integration with system features.",
                link: "https://github.com/SpecimenPro/SpecimenPro/pull/145"
            },
            {
                type: "community",
                title: "User Community Forum Launch",
                date: "2024-12-20",
                description: "Join our new community forum to share tips, ask questions, and connect with other SpecimenPro users. Feature requests and feedback welcome!",
                link: "https://github.com/SpecimenPro/SpecimenPro/discussions"
            },
            {
                type: "release",
                title: "SpecimenPro 2.0.5 Maintenance Release",
                date: "2024-12-15",
                description: "Bug fixes and stability improvements. Resolved issues with data sync, photo storage, and voice recording on certain devices.",
                link: "https://github.com/SpecimenPro/SpecimenPro/releases/tag/v2.0.5"
            }
        ];

        function loadEvents(events = null) {
            const eventsList = document.getElementById('eventsList');
            
            if (!events || events.length === 0) {
                eventsList.innerHTML = `
                    <div class="no-events">
                        <h3>No events available</h3>
                        <p>Check back soon for updates on SpecimenPro releases and news.</p>
                    </div>
                `;
                return;
            }

            eventsList.innerHTML = events.map(event => `
                <div class="event-card">
                    <h3 class="event-title">${event.title || 'Untitled Event'}</h3>
                    <div class="event-date">${formatDate(event.date || new Date().toISOString().split('T')[0])}</div>
                    ${event.location ? `<div style="color: var(--text-light); font-size: 0.9rem; margin-bottom: 15px; display: flex; align-items: center; gap: 5px;">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                            <circle cx="12" cy="10" r="3"></circle>
                        </svg>
                        ${event.location}
                    </div>` : ''}
                    <p class="event-description">${event.description || 'No description available.'}</p>
                    ${event.link ? `<a href="${event.link}" class="event-link" target="_blank" rel="noopener">
                        Learn more 
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                            <polyline points="15,3 21,3 21,9"></polyline>
                            <line x1="10" y1="14" x2="21" y2="3"></line>
                        </svg>
                    </a>` : ''}
                </div>
            `).join('');
        }

        function showLoadingState() {
            const eventsList = document.getElementById('eventsList');
            eventsList.innerHTML = `
                <div style="text-align: center; padding: 60px 20px;">
                    <div style="display: inline-block; width: 40px; height: 40px; border: 4px solid var(--bg-light); border-top: 4px solid var(--primary-color); border-radius: 50%; animation: spin 1s linear infinite;"></div>
                    <p style="margin-top: 20px; color: var(--text-light);">Loading events...</p>
                </div>
                <style>
                    @keyframes spin {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }
                </style>
            `;
        }

        function showErrorState(message) {
            const eventsList = document.getElementById('eventsList');
            eventsList.innerHTML = `
                <div class="no-events">
                    <h3>Unable to load events</h3>
                    <p>${message}</p>
                    <p style="margin-top: 15px;">
                        <button onclick="loadEventsFromGitHub()" style="background: var(--primary-color); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">
                            Try Again
                        </button>
                    </p>
                </div>
            `;
        }

        async function loadEventsFromGitHub() {
            showLoadingState();
            
            try {
                // Try local file first
                const localResponse = await fetch(LOCAL_EVENTS_URL);
                if (localResponse.ok) {
                    const events = await localResponse.json();
                    loadEvents(events);
                    return;
                }
            } catch (error) {
                console.log('Local events.json not found, trying GitHub...');
            }

            try {
                // Try GitHub raw URL
                const githubResponse = await fetch(EVENTS_JSON_URL);
                if (!githubResponse.ok) {
                    throw new Error(`GitHub file not found (${githubResponse.status})`);
                }
                
                const data = await githubResponse.json();
                // Handle nested structure - extract events array
                const events = data.events || data;
                
                // Map the event fields to match our display format
                const mappedEvents = events.map(event => ({
                    title: event.title,
                    date: event.startDate,
                    description: event.description,
                    link: event.link || null,
                    type: event.type,
                    location: event.location
                }));
                
                loadEvents(mappedEvents);
                
            } catch (error) {
                console.error('Failed to load events from GitHub:', error);
                console.log('Using sample events data as fallback');
                loadEvents(sampleEvents);
            }
        }

        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return new Date(dateString).toLocaleDateString(undefined, options);
        }

        // Load events when page loads
        document.addEventListener('DOMContentLoaded', loadEventsFromGitHub);
    </script>
</body>
</html>
